package kr.or.ddit.pro_service.service_inquiry.service.impl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import kr.or.ddit.pro_service.service_inquiry.mapper.SrvcBtfInqryMapper;
import kr.or.ddit.pro_service.service_inquiry.service.SrvcBtfInqryService;
import kr.or.ddit.pro_service.service_inquiry.vo.V_SrvcBtfInqryVO;
import kr.or.ddit.vo.UsersVO;
import lombok.extern.slf4j.Slf4j;


@Service
@Slf4j
public class SrvcBtfInqryServiceImpl implements SrvcBtfInqryService {

	@Autowired
	SrvcBtfInqryMapper srvcBtfInqryMapper;
	
	// 아이디 유형 확인 
	@Override
	public UsersVO userChk(String userId) {
//		V_SrvcBtfInqryVO vSrvcBtfInqryVO = new V_SrvcBtfInqryVO();
		UsersVO usersVO = this.srvcBtfInqryMapper.userChk(userId);
		
		if(usersVO.getEmplyrTy().equals("ET01")) { // 회원일 경우, 프로 닉네임을 얻기 위함
			usersVO.setEmplyrTy("ET02");
			
		}else if(usersVO.getEmplyrTy().equals("ET02")) { // 프로일 경우, 회원 닉네임을 얻기 위함
			usersVO.setEmplyrTy("ET01");
		}
		log.info("userChk -> usersVO : " + usersVO.toString());
		
		return usersVO;
	}
	
	// 보낸 사전 문의 및 받은 사전문의 목록 조회 
	@Override
	public List<V_SrvcBtfInqryVO> btfInqryList(V_SrvcBtfInqryVO vSrvcBtfInqryVO) {
		return this.srvcBtfInqryMapper.btfInqryList(vSrvcBtfInqryVO);
	}

	@Override
	public V_SrvcBtfInqryVO btfInqryDetail(V_SrvcBtfInqryVO vSrvcBtfInqryVO) {
		return this.srvcBtfInqryMapper.btfInqryDetail(vSrvcBtfInqryVO);
	}


}
