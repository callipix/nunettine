<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html>
<head>
<title></title>
<link href="/resources/css/main.css" rel="stylesheet" />
<script type="text/javascript" src="/resources/js/jquery.min.js"></script>
<script src="/resources/fullcalendar/main.js"></script>
<script src="/resources/fullcalendar/ko.js"></script>
<script>
  $(function () {
	 

    var request = $.ajax({
      url: "/todayMeeting/calendarList", // 값 불러오기
      method: "GET",
      dataType: "json"
    });
    request.done(function (data) {
      console.log(data); // log로 데이터 찍어주기
      var calendarEl = document.getElementById('calendar');
      calendar = new FullCalendar.Calendar(calendarEl, {
        height: '700px',
        slotMinTime: '08:00', // Day 캘린더에서 시작 시간
        slotMaxTime: '20:00', // Day 캘린더에서 종료 시간
        // 헤더에 표시할 툴바
        headerToolbar: {
          left: 'prev, next today',
          center: 'title',
          right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
        },
        initialView: 'dayGridMonth', // 초기 로드 될 때 보이는 캘린더 화면 (기본 설정 : 달)
        navLinks: true, // 날짜를 선택하면 Day 캘린더나 Week 캘린더로 링크
        editable: true, // 수정 가능?
        selectable: true, // 달력 일자 드래그 설정 가능
        droppable: true, // 드래그 앤 드롭 
        events: data,
        locale: 'ko', // 한국어 설정

        eventClick: function (info) {

          var tdmtngNo = info.event.id;
  
          location.href = "/todayMeeting/detail?tdmtngNo=" + tdmtngNo;
        }

      });
      calendar.render();
    });

  });
  
  
  
</script>
</head>
<body>
<div id="title">
  <h1>오늘 모임</h1>
</div>
<div>

  <button type="button" id="btnTmtCreate" class="btnTmtCreate">모임
    생성</button>
</div>

<div id="calendar"></div>
</body>
</html>