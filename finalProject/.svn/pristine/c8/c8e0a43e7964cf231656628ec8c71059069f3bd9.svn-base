(function() {
    $.fn.menuBar = function() {
        this.each(function(index) {
            var $menuBar = null,
                $menuList = null,
                $menuSelect = null;

            function init(el) {
                $menuBar = $(el);
                $menuList = $menuBar.find('li');
            }

            function event() {
                $menuList.on('click', function() {
                    if ($menuSelect)
                        $menuSelect.removeClass('active');

                    $menuSelect = $(this);
                    $menuSelect.addClass('active');

                    // 메뉴에 대한 내용 표시
                    var $content = $menuSelect.parent('ul').next().children().eq($(this).index());
                    $content.show().siblings().hide();
                });
            }
            init(this);
            event();
        });
        return this;
    }
})(jQuery);

/* 참가중인 채팅방인지 체크 */
function check(event){
	event.preventDefault();
	location.href = "http://localhost:8080/chat/main";
}
function allRoomList(event , roomNo){
	event.preventDefault();
	
	var rslt = '';

	if(confirm("방에 참가하시겠습니까?")){
	console.log("여길 먼저 타야?")
	$.ajax({
		url : "http://localhost:8080/chat/check",
		type : "get",
		data : {roomNo:roomNo},
		dataType : "text",
		success : function(result){
					rslt = result;
					
					if(result > 0){
					
					alert("이미 참가중인 방입니다\n방으로 이동합니다");
					return;
					} else {
					
					}	
				}
			})
		} else {
			return;
		}
	location.href = "http://localhost:8080/chat/join?roomNo="+roomNo;
}