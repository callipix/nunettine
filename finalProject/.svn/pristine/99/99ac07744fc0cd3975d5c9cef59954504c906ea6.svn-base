<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<script type="text/javascript" src="/resources/js/jquery.min.js"></script>
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script>
	$(function(){
		//전화번호 본인인증
		$("#telCk").on("click",function(){
			const ph1 = $("#phNum1").val();
			const ph2 = $("#phNum2").val();
			const ph3 = $("#phNum3").val();
			let proMbtlnum = ph1 + ph2 + ph3;
			const test = /^010[\d]{4}[\d]{4}$/;
			const test1 = /^[\d]{4}$/;
			
			if(test.test(proMbtlnum)){
				alert("정규식 통과 본인인증 진행")
			}else{
				if(test1.test(ph2)){
					alert("전화번호의 형식이 맞지 않습니다.\n다시 확인해주세요.");
					$("#phNum3").focus();
				}else{
					alert("전화번호의 형식이 맞지 않습니다.\n다시 확인해주세요.");
					$("#phNum2").focus();
				}
			}
			
		})//전화번호 본인인증 끝
		
		//이메일 중복확인
		$("#emailDupCk").on('click',function(){
			console.log("이메일 확인");
			alert("이메일 확인 성공");
		})//이메일 중복확인 끝
		
		//아이디 중복확인
		$("#idDupCk").on('click',function(){
			const userId = $("#userId").val();
			const test = /^[A-Za-z\d]{6,12}$/;
			if(test.test(userId)){
				alert("정규식 통과, 중복확인작업 ㄱ");
			}else{
				alert("아이디의 형식이 맞지 않습니다.\n영문,숫자 6~12자리로 작성해주세요.");
				$("#userId").focus();
			}
		})//아이디 중복확인 끝
		
		//닉네임 중복확인
		$("#nickDupCheck").on('click',function(){
			const proNcnm = $("#proNcnm").val();
			const test = /^[A-Za-z가-힣\d]{2,8}$/;
			console.log("test",test.test(proNcnm));
			if(test.test(proNcnm)){
				alert("정규식 통과, 중복확인작업 ㄱ");
			}else{
				alert("닉네임의 형식이 맞지 않습니다.\n한글,영문,숫자 2~8자리로 작성해주세요.");
				$("#nickDupCheck").focus();
			}
		})//닉네임 중복확인 끝
		
		//우편번호 api 시작
	    $("#zipSelect").on("click",function(){
	        new daum.Postcode({
	            oncomplete: function(data) {
	            	  var resultHTML = [];
	                var roadAddr = data.roadAddress; // 도로명 주소 변수
	                var extraRoadAddr = ''; // 참고 항목 변수
	                if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
	                    extraRoadAddr += data.bname;
	                }
	                if(data.buildingName !== '' && data.apartment === 'Y'){
	                   extraRoadAddr += (extraRoadAddr !== '' ? ', ' + data.buildingName : data.buildingName);
	                }
	                if(extraRoadAddr !== ''){
	                    extraRoadAddr = ' (' + extraRoadAddr + ')';
	                }
	                document.getElementById('zip').value = data.zonecode;	// --> 우편번호 칸
	                document.getElementById("adres").value = roadAddr;	// --> 도로명 주소 칸
	                if(roadAddr !== ''){
	                    document.getElementById("adres").value = roadAddr;
	                } else {
	                    document.getElementById("adres").value = extraRoadAddr;
	                }
	                var guideTextBox = document.getElementById("guide");
	           }
	        }).open();
	        $("#detailAdres").focus();
	    });
	});
	
</script>

<div class="card">
	<div class="card-body">
		<h1 class="card-title">프로 회원 가입</h1>
		<p class="card-description">프로 이용자를 위한 회원가입입니다.</p>
		<form class="forms-sample">
			<label for="userId">아이디</label>
			<div class="form-group input-group">
				<input type="text" class="form-control" id="userId" name="userId"
					placeholder="아이디" required />
				<span class="input-group-append">
					<button type="button" class="file-upload-browse btn btn-primary" id="idDupCk">중복확인</button>
				</span>
			</div>
			<div class="form-group">
				<label for="userPassword">비밀번호</label>
				<input type="password" class="form-control" id="userPassword" name="userPassword"
					placeholder="비밀번호" required />
			</div>
			<div class="form-group">
				<label for="userPasswordCk">비밀번호 확인</label>
				<input type="password" class="form-control" id="userPasswordCk" name="userPasswordCk"
					placeholder="비밀번호 확인">
			</div>
			<label for="email">이메일</label>
			<div class="form-group input-group">
				<input type="text" class="form-control" id="email" name="email"
					placeholder="이메일">
				<span class="input-group-append">
					<button type="button" id="emailDupCk" class="file-upload-browse btn btn-primary">중복확인</button>
				</span>
			</div>
			<div class="form-group">
				<label for="userNm">이름</label>
				<input type="text" class="form-control" id="userNm" name="userNm"
					placeholder="이름">
			</div>
			<label>전화번호</label>
			<div class="form-inline">
				<input type="text" class="form-control mb-1 mr-sm-1" id="phNum1" name="phNum1" value="010">-
				<input type="text" class="form-control mb-1 mr-sm-1" id="phNum2" name="phNum2">-
				<input type="text" class="form-control mb-1 mr-sm-1" id="phNum3" name="phNum3">
				<button type="button" id="telCk" class="btn btn-primary mr-2">본인인증</button>
			</div>
			<div class="form-group">
				<label for="sexdstnTy">성별</label>
				<select class="form-control" id="sexdstnTy" name="sexdstnTy">
					<option>성별을 선택하세요</option>
					<option value="SD01">남성</option>
					<option value="SD02">여성</option>
					<option value="SD03">기타</option>
				</select>
			</div>
			<div class="form-group">
				<label>썸네일등록</label>
				<input type="file" name="proProflPhoto" class="file-upload-default">
				<div class="input-group col-xs-12">
					<input type="text" class="form-control file-upload-info"
						disabled="" placeholder="썸네일을 등록하세요" />
					<span class="input-group-append">
						<button class="file-upload-browse btn btn-primary" type="button">업로드</button>
					</span>
				</div>
			</div>
			<label for="proNcnm">닉네임</label>
			<div class="form-group input-group">
				<input type="text" class="form-control" id="proNcnm" name="proNcnm"
					placeholder="닉네임">
				<span class="input-group-append">
					<button type="button" id="nickDupCheck" class="file-upload-browse btn btn-primary">중복확인</button>
				</span>
			</div>
			<div class="form-group input-group">
				<h4>전문분야</h4>
			</div>
			<label for="zip">우편번호</label>
			<div class="form-group input-group">
				<input type="text" readonly class="form-control" id="zip" name="zip"
					placeholder="우편번호">
				<span class="input-group-append">
					<button type="button" id="zipSelect" class="file-upload-browse btn btn-primary">우편번호 찾기</button>
				</span>
			</div>
			<div class="form-group">
				<label for="adres">주소</label>
				<input type="text" class="form-control" id="adres" name="adres"
					placeholder="주소">
			</div>
			<div class="form-group">
				<label for="detailAdres">상세주소</label>
				<input type="text" class="form-control" id="detailAdres" name="detailAdres"
					placeholder="상세주소">
			</div>
			<button type="submit" class="btn btn-primary mr-2">Submit</button>
			<button class="btn btn-light">Cancel</button>
		</form>
	</div>
</div>